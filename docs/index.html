<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>AI Funny Shorts Generator</title>
        <style>
            body {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 2fr 2fr 1fr;
                align-items: center;
                gap: 2em;
                justify-content: center;
                height: 100vh;
                font-family: sans-serif;
                font-size: 14px;
                color: #778;
                padding: 5em 0;
                margin: auto;
                width: 100%;
                max-width: 1000px;
                box-sizing: border-box;
            }

            body > div {
                height: 100%;
                width: 100%;
                box-sizing: border-box;
            }

            .flex-col {
                display: flex;
                flex-direction: column;
                gap: 1em;
            }

            .border {
                border: 1px solid #bbb;
                padding: 1em;
                border-radius: 6px;
            }

            .headed {
                position: relative;
            }

            .headed > label {
                position: absolute;
                top: -0.5em;
                left: 1em;
                background: white;
                padding: 0 4px;
            }

            textarea {
                width: 100%;
                height: 100%;
                resize: none;
                border: 0;
                font-family: inherit;
                font-size: inherit;
            }

            input[type="submit"] {
                background: #8df;
                border: 0;
                border-radius: 4px;
                padding: 0.5em 1em;
                font-family: inherit;
                font-size: inherit;
            }

            input[type="submit"]:hover {
                background: #6bd;
                cursor: pointer;
            }
        </style>
        <script src="//cdn.jsdelivr.net/npm/html-piercer@0.3"></script>
        <script src="//cdn.jsdelivr.net/npm/cute-modal@0.2.2"></script>
        <script>
            function saveToLocalStorage(event) {
                localStorage.setItem(event.target.id, event.target.value);
            }

            document.addEventListener('DOMContentLoaded', function () {
                document.getElementById('input-openai').value = localStorage.getItem('input-openai') || '';
                document.getElementById('input-elvnlabs').value = localStorage.getItem('input-elvnlabs') || '';
            });
        </script>
    </head>
    <body>
        <div class="border headed flex-col">
            <label>Text Generation</label>
            <div>
                <label for="input-openai">ChatGPT API key:</label>
                <input type="text" id="input-openai" class="border" oninput="saveToLocalStorage(event)">
            </div>
            <div class="border" style="flex: 1;">
        <textarea id="textarea-story">
In 100 words, write me an exciting story about...



Do not have characters laugh or acknowledge the humor of the scene. Include emotional dialogue. Make the punchline make no sense. Use generation alpha slang such as, but not limited to, "chuds," "gooners," "rizz," "alpha," and "sigma."
        </textarea>
            </div>
            <input type="submit" id="button-story" value="Generate Script">
        </div>
        <div class="border headed flex-col">
            <label>Edit Script</label>
            <div>
                <label for="input-elvnlabs">ElevenLabs API key:</label>
                <input type="text" id="input-elvnlabs" class="border" oninput="saveToLocalStorage(event)">
            </div>
            <i style="font-size: smaller;">Don't have an key? Make an account to get one <a href="https://elevenlabs.io">here</a>.</i>
            <div class="border" style="flex: 1;">
                <textarea id="textarea-tts"></textarea>
            </div>
            <input type="submit" id="button-speech" value="Generate Audio">
        </div>
        <div class="border headed flex-col">
            <label>Approve Audio</label>
            <audio id="audio" controls></audio>
            <div style="flex: 1;"></div>
            <input type="submit" id="button-video" value="Generate Video">
        </div>
        <div class="border headed flex-col" style="grid-column: 2; grid-row: 1 / span 3;">
            <label>Final Video</label>
        </div>
        <script src="js/generate_story.js"></script>
        <script src="js/generate_audio.js"></script>
        <script src="js/generate_video.js"></script>
    </body>
</html>
